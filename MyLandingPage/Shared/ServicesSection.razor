@using System
@using Microsoft.AspNetCore.Components.Routing
@using Microsoft.Extensions.Localization

@inject IStringLocalizer<Shared.ServicesSection> L

<section id="services" class="py-5">
  <div class="container">
    <h2 class="text-center mb-4">@L["Services_Title"]</h2>
        <div class="row row-cols-2">
      @foreach (var svc in L["Services_List"].Value
                         .Split('|', StringSplitOptions.RemoveEmptyEntries))
      {
        var parts = svc.Split("::", StringSplitOptions.None);
        var icon  = parts[0].Trim().ToLowerInvariant().Replace(" ", "-");
        var title = parts[1].Trim();
        var desc  = parts[2].Trim();
        string? href = title switch
        {
            "Yacht School"              => "programs",
            "Yacht Charter"             => "charter",
            "Yachting in Montenegro"    => "bareboat-charter",
            "Tours & Celebrations"      => "tours",
            _                            => null
        };

        @* Если есть ссылка – оборачиваем в NavLink, иначе оставляем див *@
        if (href is not null)
        {
          <NavLink class="col text-center text-decoration-none" href="@href">
            <img src="@($"images/icons/{icon}.svg")" alt="@title" class="mb-2" />
            <h5>@title</h5>
            <p class="text-muted">@desc</p>
          </NavLink>
        }
        else
        {
          <div class="col text-center">
            <img src="@($"images/icons/{icon}.svg")" alt="@title" class="mb-2" />
            <h5>@title</h5>
            <p class="text-muted">@desc</p>
          </div>
        }
      }
    </div>
  </div>
</section>
